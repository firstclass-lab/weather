<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰ä¸¦åŒº æ´—æ¿¯æŒ‡æ•°å®Ÿæ³</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #f0f7ff; color: #1e293b; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { max-width: 500px; width: 100%; }
        .header { text-align: center; margin-bottom: 20px; }
        .card { background: white; border-radius: 24px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); text-align: center; margin-bottom: 20px; border-top: 8px solid {{ color }}; }
        .score { font-size: 80px; font-weight: 900; color: {{ color }}; margin: 10px 0; }
        .status { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
        .advice { font-size: 14px; color: #64748b; line-height: 1.6; }
        .meta-info { display: flex; justify-content: center; gap: 20px; margin-top: 20px; font-size: 13px; color: #94a3b8; }
        
        /* ã‚¿ãƒ–ã‚¹ã‚¿ã‚¤ãƒ« */
        .tab-container { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
        .tab-btn { padding: 12px 20px; border: none; border-radius: 12px; background: #e2e8f0; color: #64748b; cursor: pointer; font-weight: bold; transition: 0.3s; flex: 1; }
        .tab-btn.active { background: #2563eb; color: white; box-shadow: 0 4px 12px rgba(37,99,235,0.3); }

        /* ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
        .forecast-table { width: 100%; border-collapse: collapse; background: white; border-radius: 16px; overflow: hidden; font-size: 14px; box-shadow: 0 4px 15px rgba(0,0,0,0.02); }
        .forecast-table th { background: #f8fafc; padding: 12px; color: #94a3b8; font-weight: normal; font-size: 12px; }
        .forecast-table td { padding: 15px 8px; text-align: center; border-bottom: 1px solid #f1f5f9; vertical-align: middle; }

        /* å¤©æ°—ã‚¢ã‚¤ã‚³ãƒ³å¤§å‹åŒ–ï¼ˆè¿½åŠ ï¼‰ */
        .weather-icon { font-size: 1.8rem; display: inline-block; line-height: 1; vertical-align: middle; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2 style="margin:0;">æ‰ä¸¦åŒº æ´—æ¿¯ç‰©å®Ÿæ³</h2>
            <div style="font-size:12px; color:#94a3b8;">æœ€çµ‚æ›´æ–°: {{ last_update }}</div>
        </div>

        <div class="card">
            <div style="font-size:14px; color:#94a3b8;">æ´—æ¿¯ç‰©å®‰å…¨ã‚¹ã‚³ã‚¢</div>
            <div class="score">{{ score }}<span style="font-size:24px;">ç‚¹</span></div>
            <div class="status">{{ status_msg }}</div>
            <div class="advice">{{ advice }}</div>
            <div class="meta-info">
                <span>ğŸŒ¡ {{ temp }}â„ƒ</span>
                <span>ğŸ’§ æ¹¿åº¦: {{ humidity }}%</span>
                <span>â˜ é›²é‡: {{ clouds }}%</span>
            </div>
        </div>

        <div class="tab-container">
            <button id="btn-5min" class="tab-btn active" onclick="switchTab('5min')">5åˆ†åˆ»ã¿(é›¨é›²)</button>
            <button id="btn-3hr" class="tab-btn" onclick="switchTab('3hr')">3æ™‚é–“äºˆå ±</button>
        </div>

        <div id="content-5min">
            <table class="forecast-table">
                <thead>
                    <tr><th style="width:30%;">æ™‚åˆ»</th><th style="width:30%;">å¤©æ°—</th><th style="width:40%;">é›¨ã®å¼·ã•</th></tr>
                </thead>
                <tbody>
                    {{ table_5min }}
                </tbody>
            </table>
        </div>

        <div id="content-3hr" style="display:none;">
            <table class="forecast-table">
                <thead>
                    <tr><th>æ™‚åˆ»</th><th>å¤©æ°—</th><th>æ°—æ¸©/æ¹¿åº¦</th><th>é¢¨é€Ÿ</th><th>é›¨é‡</th></tr>
                </thead>
                <tbody>
                    {{ table_3hr }}
                </tbody>
            </table>
        </div>

        <footer style="margin-top: 30px; padding: 20px; border-top: 1px solid #e2e8f0; color: #94a3b8; font-size: 11px; line-height: 1.6;">
            <div style="margin-bottom: 15px;">
                <strong>ã€å…è²¬äº‹é …ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€‘</strong><br>
                ãƒ»æœ¬ã‚µã‚¤ãƒˆã®æ´—æ¿¯æŒ‡æ•°ã¯æ°—è±¡äºˆå ±ã«åŸºã¥ãè¨ˆç®—å€¤ã§ã‚ã‚Šã€å®Ÿéš›ã®å¤©å€™ã‚„ä¹¾ãå…·åˆã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æœ¬æƒ…å ±ã®åˆ©ç”¨ã«ã‚ˆã‚Šç”Ÿã˜ãŸæå®³ã«ã¤ã„ã¦ã€å½“æ–¹ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã‹ã­ã¾ã™ã€‚<br>
                ãƒ»æœ¬ã‚µã‚¤ãƒˆã§ã¯å€‹äººæƒ…å ±ã®åé›†ã‚„ã‚¯ãƒƒã‚­ãƒ¼ï¼ˆCookieï¼‰ã®ä½¿ç”¨ã¯è¡Œã£ã¦ãŠã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒï¼ˆGitHub Pagesï¼‰ã«ã‚ˆã‚Šã€å€‹äººã‚’ç‰¹å®šã—ãªã„ç¯„å›²ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ãŒè¨˜éŒ²ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
            </div>
            <div>
                <strong>ã€ãƒ‡ãƒ¼ã‚¿å‡ºå…¸ã€‘</strong><br>
                - Yahoo! JAPAN Weather APIs (é›¨é‡äºˆå ±)<br>
                - OpenWeatherMap (æ°—è±¡å®Ÿæ³ãƒ»3æ™‚é–“äºˆå ±)
            </div>
        </footer>
    </div>

    <script>
        function switchTab(type) {
            const content5min = document.getElementById('content-5min');
            const content3hr = document.getElementById('content-3hr');
            const btn5min = document.getElementById('btn-5min');
            const btn3hr = document.getElementById('btn-3hr');

            if (type === '5min') {
                content5min.style.display = 'block';
                content3hr.style.display = 'none';
                btn5min.classList.add('active');
                btn3hr.classList.remove('active');
            } else {
                content5min.style.display = 'none';
                content3hr.style.display = 'block';
                btn5min.classList.remove('active');
                btn3hr.classList.add('active');
            }
        }
    </script>
</body>
</html>